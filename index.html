<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Formulário de Registro</title>
    <link rel="stylesheet" href="styles.css">
</head>
<body>
    

 
    </script>
    <div class="container">
        <h2>Cleanpool</h2>
        <form id="poolForm">
            <label for="nome">Nome:</label>
            <input type="text" id="nome" name="nome" required>

            <label for="cloro">Cloro:</label>
            <input type="text" id="cloro" name="cloro" step="0.01" required>

            <label for="barrilha">Barrilha:</label>
            <input type="text" id="barrilha" name="barrilha" step="0.01" required>

            <label for="algicida">Algicida:</label>
            <input type="text" id="algicida" name="algicida" step="0.01" required>

            <label for="clarificante">Clarificante:</label>
            <input type="text" id="clarificante" name="clarificante" step="0.01" required>

            <button type="submit">Salvar</button>
        </form>
    </div>
    <script>
        document.addEventListener('DOMContentLoaded', function() {
            document.getElementById('poolForm').addEventListener('submit', function(event) {
                event.preventDefault(); // Previne o envio padrão do formulário

                const formData = {
                    nome: document.getElementById('nome').value,
                    cloro: document.getElementById('cloro').value,
                    barrilha: document.getElementById('barrilha').value,
                    algicida: document.getElementById('algicida').value,
                    clarificante: document.getElementById('clarificante').value
                };

                fetch('https://pool-api-alpha.vercel.app/api/v1/pool/', {
                    method: 'POST',
                    headers: {
                        'Content-Type': 'application/json'
                    },
                    body: JSON.stringify(formData)
                })
                .then(response => response.json())
                .then(data => {
                    console.log('Success:', data);
                    // Aqui você pode adicionar lógica adicional, como limpar o formulário ou exibir uma mensagem de sucesso
                    alert('Envio confirmado!');
                    document.getElementById('poolForm').reset(); // Limpa o formulário
                })
                .catch((error) => {
                    console.error('Error:', error);
                    alert('Ocorreu um erro ao enviar o formulário.');
                    // Aqui você pode adicionar lógica para tratar erros
                });
            });
        });
    </script>
</body>
</html>
